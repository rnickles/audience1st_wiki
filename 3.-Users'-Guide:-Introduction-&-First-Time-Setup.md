# Overview of main concepts

## Patrons and Orders

* The _patron_ is the unit to which most operations are indexed.

* Whenever a patron purchases something (even if the "purchase" is actually comped or consists of a donation rather than the purchase of tickets), an _order_ is created. The order collects all the items that were purchased together, the manner of payment, and so on.  An order is connected to both the person who paid and the person who received the products; these are often the same person, but might not be, for example in the case of gift purchases.  Orders can be fully or partially refunded, with the corresponding items then marked as canceled.

* A patron's view of their account is that it holds some number of _vouchers_.  Some of these may be _reserved_, for example if they bought tickets to a particular performance.  Some may be _open_, for example if they bought a subscription and want to reserve performance dates for specific shows.  Of those that are reserved, you may choose to allow patrons to self-cancel or self-change their reservations, or not.

## Voucher Types and Validity Records

During season setup, you specify one or more _voucher types_.  Typically, a voucher type is either a specific kind of ticket at a specific price point (e.g. "Adult General Admission" at $35.00; "Press Comp" at $0.00), or one of several tickets included in a bundle (see below).

A given voucher type is _not_ automatically valid for a specific performance.  A _voucher validity record_ is required to make that connection.  In effect, a voucher validity record says: "This type of voucher [e.g. Adult General Admission] is valid for specific performance(s) of this production."  The validity record can also set sales dates for the voucher that are different from the "advance sales stop" date for the performance, and can specify a limit on the number of vouchers of this type available for the performance that is different from the house capacity.

For example, suppose we have a run of the play Hamlet, every Fri, Sat and Sun night from Jan 1-17, 2015 (nine performances), and we have a house capacity of 100.  Our general admission price is $40 adults, $25 youth, but we also want to do promotions to sell more seats at matinees.  We might set up tickets and validity records as follows:

| Voucher type and price | Validity |
|------------------------|----------|
| Adult General, $40     | All performances; unlimited sales; advance sales stop 3 hours before performance |
| Youth General, $25     | All performances; unlimited sales; advance sales stop 3 hours before performance |
| Matinee Special, $20   | Sunday shows only; sales limited to 30 per show; advance sales stop 2 days before performance |


This way, even if the matinee special is really popular, at most 30 such tickets can be sold for each matinee.

When a customer is on the "Buy Tickets" page and selects a particular performance, only the voucher types whose validity records allow that performance will be shown.  So, for example, if there were seats available for the Sunday Jan. 3 matinee but all 30 Matinee Special seats had been sold, the patron could buy Adult General or Youth General seats for that performance, but not Matinee Special seats.  The same would happen if there were still Matinee Special seats left but the show was less than 2 days away, since the Matinee Special validity record says that sales of those tickets must stop 2 days before the performance.

### Rules of thumb: When should you create a new voucher type?

0. If it has a different price point, it needs to be a separate voucher type.

0. If you want to be able to track its sales separately (even at the same price point), it needs to be a separate voucher type.  For example, Youth and Senior tickets may cost the same, but if you want to break down the revenue from each in reporting, they should be different voucher types.

0. If you want a ticket type that is only valid for specific productions or performances, it probably needs to be a separate voucher type.  

## Bundles

To sell subscriptions and other packages, you collect multiple vouchers into a Bundle, and price the bundle.  The simplest subscription is "one ticket to each of our 3 shows this season" (let's say Hamlet, Othello, and King Lear).  To sell this subscription, you'd create a voucher type corresponding to a subscriber reservation for each of the shows.  The Hamlet subscriber voucher could be valid for any performance of Hamlet, but not for any other production; and so on.

You can also create bundles that are more restrictive.  For example, a "matinees only" subscription would require creating three more voucher types whose validity records would indicate they're only valid for matinees.  The validity records of the six vouchers in this scenario might then be:

| Voucher type | Validity |
|------------------------|----------|
| "Hamlet" - subscriber | All performances of Hamlet; unlimited sales |
| "Hamlet" - subscriber - Matinees only | Matinee performances of Hamlet; unlimited sales |
| "Othello" - subscriber | All performances of Hamlet; unlimited sales |
| "Othello" - subscriber - Matinees only | Matinee performances of Hamlet; unlimited sales |
| "King Lear" - subscriber | All performances of Hamlet; unlimited sales |
| "King Lear" - subscriber - Matinees only | Matinee performances of Hamlet; unlimited sales |
| Regular Subscription - $100 | Contains one each of "Hamlet - subscriber", "Othello - subscriber", "King Lear - subscriber" |
| Matinee-Only Subscription - $75 | Contains one each of "Hamlet - subscriber (Matinees only)", "Othello - subscriber (Matinees only)", "King Lear - subscriber (Matinees only)" |

If your subscription is more flexible--for example, "3 tickets to our regular productions, to use as you see fit"--you might create just a single "Subscriber voucher" type and declare it to be valid for any performance of any show.  You can also create "family pack" bundles that contain (for example) 2 "Adult subscriber" and 2 "Youth subscriber" tickets, and so on.

## Subscriptions

When you create any kind of voucher type, whether a single ticket type or a bundle, you can indicate whether purchasing that voucher qualifies the buyer as a Subscriber.

This is important because Audience1st
allows many operations to distinguish between Subscribers and
non-Subscribers.  For example, when a new Voucher Type is created, you
can specify whether it can be purchased by anyone or only by
Subscribers.  This makes it easy to offer premium tickets available only
for Subscribers, or a  general-admission ticket offered at a discount but only to
Subscribers.



# Privilege model

Each user of the system has one of six privilege levels.  A user of a higher level can do everything that a user of lower levels can do.  The levels in order of increasing privilege are:

0. Patron: The default level: can log into her own account, manage her own reservations, and edit her own contact information.

0. Staff: Can also generate reports, including mailing lists, box office statistics, etc. Can record donations, search and update patron contact information, and so on. This is the appropriate category for any staff member who needs reporting capabilities but does not deal directly with reservation processing.

0. Walkup Sales: can also do day-of-show box office procedures, such as generating the will-call list, processing walkup sales transactions, and generating the box office settlement report.

0. Box Office: Can also make and cancel advance reservations, search the patron database, update patron information, add and remove comp vouchers from patron accounts, refund orders.

0. Box Office Manager: Can also do season setup: add/edit shows, add/edit performance dates, add/edit voucher types and bundle types, determine which voucher types can be redeemed for which performances.

0. Admin: Can grant/revoke any of the above privileges to other users.

In this guide, "admin" refers loosely to any non-patron privilege level.

# Act on behalf of

All privilege levels Staff or higher can act on behalf of a patron. That is, they can search for a patron by name, view that account as if they were the patron, and generally do all the things the patron could do, acting on behalf of the patron.  

The user interface seen by staff and patrons is the same, but Staff see some additional controls and tabs that patrons do not see.  At the bottom of every page is a button "Regular Patron View" that lets the logged-in admin see that page as a regular patron would see it (if the page is accessible to patrons at all).

# Admins can override everything

Various features of Audience1st are designed to limit what patrons can do: how far in advance of a show they can reserve tickets, whether they can cancel their own reservations, and enforcement of capacity controls on both overall house size and ticket type inventories.

Admins of any level are immune to these restrictions.  They can oversell the house, redeem tickets not normally acceptable for a given performance, and even sell a ticket to a sold-out show that occurred in the past, whereas a regular patron can buy tickets/make reservations as specified by the deadlines and capacity controls that are specified when each production's ticketing is set up.

# One-Time Setup: additional users, account codes

TBD

# One-Time Setup: Venue Information

TBD

# One-Time Setup: Importing existing customer data

TBD
